<!-- View a DeepOSM predicted error on the map.
-->

{% extends 'base.html' %}

{% block head_content %}
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
    <style> 
        #mapid { height: 70%; margin-top:20px;}
    </style>
{% endblock%}


{% block content %}
    
		<table>
		  <tr>
		  	  <td>
		  	  	   <span class=gray-span>{{ analysis_title }}</span> - Error ID {{ error_id }}
		  	  </td>
		      <td>
		            Likely Error {{error.0}}
		      </td>
		      <td>
		          <span class=gray-span>NE</span> {{error.1}}, {{error.2}}
		      </td>
		      <td>
			        <span class=gray-span>SW</span> {{error.3}}, {{error.4}}
		      </td>
    	  </tr>
		</table>
        {{error.1}}, {{error.2}}
    	<div id="mapid"></div>
		
		<script type="text/javascript">
        var mymap = L.map('mapid').setView([{{error.3}}, {{error.4}}], 13);

        var satLayer = L.tileLayer('http://otile1.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.png', {
            attribution: 'MapQuest',
            maxZoom: 22, })
        satLayer.addTo(mymap);

        var osmLayer = L.tileLayer('http://b.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
            maxZoom: 22, })
        osmLayer.addTo(mymap);
        osmLayer.setOpacity(.25);

        /*mymap.fitBounds([
           [{{error.2}}, {{error.1}}]
            [{{error.4}}, {{error.3}}]
        ]);*/



        // https://www.openstreetmap.org/edit#map=16/26.5626/-81.7465

    </script>

{% endblock %}
